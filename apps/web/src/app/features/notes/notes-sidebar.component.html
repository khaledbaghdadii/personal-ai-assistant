<div class="h-full flex flex-col bg-gray-50 border-r border-gray-200">
    <!-- Toolbar -->
    <mat-toolbar color="accent" class="notes-toolbar">
        <span class="font-medium text-white">My Notes</span>
        <span class="spacer"></span>
        <button mat-icon-button (click)="refreshNotes()" matTooltip="Refresh Notes">
            <mat-icon class="text-white">refresh</mat-icon>
        </button>
    </mat-toolbar>

    <!-- Add Note Form -->
    <div class="p-4 bg-white border-b border-gray-200 shadow-sm">
        <h3 class="text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide">Add Note</h3>

        <div class="flex flex-col gap-3">
            <mat-form-field appearance="outline" subscriptSizing="dynamic" class="w-full">
                <mat-label>Title</mat-label>
                <input matInput [(ngModel)]="noteTitleInput" placeholder="e.g. Project Idea">
            </mat-form-field>

            <mat-form-field appearance="outline" subscriptSizing="dynamic" class="w-full">
                <mat-label>Content</mat-label>
                <textarea matInput [(ngModel)]="noteContentInput" rows="3"
                    placeholder="Enter note details..."></textarea>
            </mat-form-field>

            <button mat-raised-button color="primary" (click)="saveNote()"
                [disabled]="!noteTitleInput || !noteContentInput" class="w-full !rounded-lg !py-1">
                Save Note
            </button>
        </div>
    </div>

    <!-- Notes List -->
    <div class="flex-1 overflow-y-auto">
        <mat-nav-list class="pt-2">
            <div mat-subheader class="!font-semibold !text-gray-500">Recent Notes</div>

            @for (note of notes(); track note.createdAt) {
            <a mat-list-item class="!mb-1 hover:bg-gray-100 transition-colors">
                <mat-icon matListItemIcon class="text-gray-400">description</mat-icon>
                <span matListItemTitle class="font-medium text-gray-800">{{note.title}}</span>
                <span matListItemLine class="text-xs text-gray-500">{{note.createdAt | date:'short'}}</span>
            </a>
            } @empty {
            <div class="p-6 text-center text-gray-400 italic text-sm">
                No notes yet. Add one above!
            </div>
            }
        </mat-nav-list>
    </div>
</div>